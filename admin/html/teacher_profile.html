<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AcadBird Admin - Teacher Profile</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="../style/teacher_profile.css" />
</head>
<body>
    <div class="page-wrapper">
        <!-- Navbar -->
        <div class="navbar">
            <div class="navbar-container">
                <div class="logo">
                     <img src="../../main/img/AcadBird - White no text.png" alt="AcadBird" class="logo-img" />
                    <img src="../../main/img/AcadBird - White Text.png" class="logo-text-img" alt="AcadBird Text">
                </div>
            <img src="../../main/img/sunhill.png" alt="AcadBird" class="middle-logo" />
                <div class="nav-icons">
                    <a href="notification_admin.html" title="Notifications">
                        <i class="fas fa-bell icon"></i>
                    </a>
                    <a href="help_admin.html" title="Help">
                        <i class="fas fa-question-circle icon"></i>
                    </a>
                    <a href="settings_admin.html" title="Settings">
                        <div class="account-menu">
                            <i class="fas fa-user-circle icon"></i>
                        </div>
                    </a>
                </div>
            </div>
        </div>

        <div id="loading-overlay">

<div class="loader-3">
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
</div>
</div>
        
        <!-- Secondary Header -->
        <div class="secondary-header">
           <div class="secondary-header-container">
               <nav class="nav-menu">
                    <a href="dashboard_admin.html" class="nav-item">Dashboard</a>
                    <a href="classes-management.html" class="nav-item">Class Management</a> 
                    <a href="teacher-management.html" class="nav-item active">Teacher Management</a>
                    <a href="calendar.html" class="nav-item">Calendar</a>
                    <a href="settings_admin.html" class="nav-item">Notifications</a>
               </nav>
           </div>
        </div>
        
        <div class="separator"></div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="admin-card">
                    <h2>Admin 1</h2>
                    <div>
                        <span>Sunhill Academy</span>
                    </div>
                </div>

                <div class="admin-card">
                    <h2>Teacher Stats</h2>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Classes Assigned</span>
                            <span id="classes-count" style="font-weight: 700;">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Years at School</span>
                            <span id="years-count" style="font-weight: 700;">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Status</span>
                            <span id="status-display" style="font-weight: 700;">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <div class="profile-card">
                    <h2>
                        Teacher Profile
                        <button class="btn btn-primary" id="edit-profile-btn">
                            <i class="fas fa-edit"></i> Edit Profile
                        </button>
                    </h2>
                    
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="profile-info">
                            <div class="profile-name" id="profile-name">Loading...</div>
                            <div class="profile-email" id="profile-email">Loading...</div>
                            <span class="profile-status" id="profile-status">Loading...</span>
                        </div>
                    </div>
                    
                    <div class="profile-details">
                        <div class="detail-group">
                            <div class="detail-label">Teacher ID</div>
                            <div class="detail-value" id="teacher-id">Loading...</div>
                        </div>
                        
                        <div class="detail-group">
                            <div class="detail-label">Email Address</div>
                            <div class="detail-value" id="teacher-email">Loading...</div>
                        </div>
                        
                        <div class="detail-group">
                            <div class="detail-label">Date Joined</div>
                            <div class="detail-value" id="teacher-joined">Loading...</div>
                        </div>
                        
                        <div class="detail-group">
                            <div class="detail-label">Birthday</div>
                            <div class="detail-value" id="teacher-birthday">Not provided</div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        
                        <button class="btn btn-warning" id="archive-teacher-btn">
                            <i class="fas fa-archive"></i> Archive Teacher
                        </button>
                    </div>
                </div>
                
                <div class="classes-card">
                    <h2>Assigned Classes</h2>
                    
                    <div id="classes-container">
                        <div class="loading-text">Loading classes...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Teacher Modal -->
    <div id="edit-teacher-modal" class="modal">
        <div class="modal-content">
            <button class="close-button" id="close-edit-modal">&times;</button>
            <h2 class="modal-title">Edit Teacher Profile</h2>
            
            <form id="edit-teacher-form">
                <input type="hidden" id="edit-teacher-id">
                
                <div class="form-group">
    <label for="edit-teacher-firstname">First Name:</label>
    <input type="text" id="edit-teacher-firstname" name="firstname" placeholder="Enter first name">
</div>

<div class="form-group">
    <label for="edit-teacher-lastname">Last Name:</label>
    <input type="text" id="edit-teacher-lastname" name="lastname" placeholder="Enter last name" >
</div>
                
                <div class="form-group">
                    <label for="edit-teacher-email">Email Address:</label>
                    <input type="email" id="edit-teacher-email" name="email" placeholder="Enter email address" required>
                </div>

                <div class="form-group">
                    <label for="edit-teacher-birthday">Birthday:</label>
                    <input type="date" id="edit-teacher-birthday" name="birthday">
                </div>

                <div class="form-group">
                    <label for="edit-teacher-status">Status:</label>
                    <select id="edit-teacher-status" name="status" required>
                        <option value="Active">Active</option>
                        <option value="Inactive">Inactive</option>
                        <option value="Archived">Archived</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Classes Taught (Select all that apply):</label>
                    <div class="multi-select-container" id="edit-classes-taught-multiselect">
                        <div class="loading-text">Loading classes...</div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-edit">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="edit-teacher-submit-btn">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module">
        import { 
            getFirestore, collection, getDocs, query, where, doc, getDoc, updateDoc, serverTimestamp 
        } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";

        const firebaseConfig = {
            apiKey: "AIzaSyB7gwN-3GVlJ-a_MTBxqVnc7Oltq5wSvHQ",
            authDomain: "acadbird-379e3.firebaseapp.com",
            projectId: "acadbird-379e3",
            storageBucket: "acadbird-379e3.firebasestorage.app",
            messagingSenderId: "575491576951",
            appId: "1:575491576951:web:70f86aba1e33b871f8a272",
            measurementId: "G-N6Z672SXWJ"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const loadingOverlay = document.getElementById("loading-overlay");

   function showLoading() {
  loadingOverlay.style.display = "flex";
}

// Hide overlay
function hideLoading() {
  loadingOverlay.style.display = "none";
}



        // =========================================================================================
        // CORE FUNCTIONS
        // =========================================================================================

        // DOM Elements
        const editTeacherModal = document.getElementById('edit-teacher-modal');
        const editTeacherForm = document.getElementById('edit-teacher-form');
        const editClassesTaughtMultiselect = document.getElementById('edit-classes-taught-multiselect');
        const classesContainer = document.getElementById('classes-container');

        // Global variables
        let currentTeacherId = null;
        let currentTeacherData = null;
        let allClassrooms = [];

        // --- URL Parameter Functions ---
        function getTeacherIdFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('id');
        }

        // --- Modal Control Functions ---
        function openModal(modalElement) {
            modalElement.style.display = 'flex';
        }

        function closeModal(modalElement) {
            modalElement.style.display = 'none';
        }

        function closeEditTeacherModal() {
            closeModal(editTeacherModal);
        }

        // --- Data Fetching Functions ---
        async function fetchTeacherData(teacherId) {
            try {
                showLoading();
                console.log('üîç Fetching teacher data for ID:', teacherId);
                const teacherDoc = await getDoc(doc(db, "users", teacherId));
                
                if (!teacherDoc.exists()) {
                    throw new Error('Teacher not found');
                }

                const teacherData = teacherDoc.data();
                console.log('üìã Teacher data:', teacherData);
                   hideLoading(); // Add this line
                return {
                    id: teacherId,
                    ...teacherData
                };
            } catch (err) {
                console.error('‚ùå Error fetching teacher data:', err);
                throw err;
                   hideLoading(); // Add this line
            }
        }

        async function fetchClassrooms() {
            try {
                const classroomsSnap = await getDocs(collection(db, "classrooms"));
                allClassrooms = [];
                classroomsSnap.forEach(doc => {
                    allClassrooms.push({
                        id: doc.id,
                        ...doc.data()
                    });
                });
                console.log('üìö Loaded classrooms:', allClassrooms);
                return allClassrooms;
            } catch (err) {
                console.error('‚ùå Error fetching classrooms:', err);
                return [];
            }
        }

      async function fetchTeacherClassrooms(teacherId) {
    try {
         showLoading(); // Add this line
        const classroomsQuery = query(
            collection(db, "classrooms"), 
            where("teacherId", "==", teacherId)
        );
        const classroomsSnap = await getDocs(classroomsQuery);
        
        const teacherClassrooms = [];
        
        for (const doc of classroomsSnap.docs) {
            const classroom = doc.data();
            const classroomId = doc.id;
            
            // Count students in this classroom from students collection
            const studentsQuery = query(
                collection(db, "students"),
                where("classroomId", "==", classroomId)
            );
            const studentsSnap = await getDocs(studentsQuery);
            const studentCount = studentsSnap.size;
            
            teacherClassrooms.push({
                id: classroomId,
                name: classroom.classroomName || "Unnamed Class",
                schedule: classroom.schedule || "Schedule not set",
                students: studentCount, // Actual count from students collection
                classroomName: classroom.classroomName,
                gradeLevel: classroom.gradeLevel,
                section: classroom.section
            });
        }
         hideLoading(); // Add this line
        return teacherClassrooms;
    } catch (err) {
        console.error('‚ùå Error fetching teacher classrooms:', err);
         hideLoading(); // Add this line
        return [];
        
    }
}
        // --- Format Date Functions ---
        function formatDate(dateString) {
            if (!dateString) return 'Not provided';
            
            try {
                // If it's a Firestore timestamp
                if (dateString.toDate) {
                    return dateString.toDate().toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                }
                
                // If it's a string date
                const date = new Date(dateString);
                if (!isNaN(date.getTime())) {
                    return date.toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                }
                
                return dateString; // Return as is if can't parse
            } catch (err) {
                console.error('Error formatting date:', err);
                return dateString;
            }
        }

        function formatDateForInput(dateString) {
            if (!dateString) return '';
            
            try {
                // If it's a Firestore timestamp
                if (dateString.toDate) {
                    return dateString.toDate().toISOString().split('T')[0];
                }
                
                // If it's a string date
                const date = new Date(dateString);
                if (!isNaN(date.getTime())) {
                    return date.toISOString().split('T')[0];
                }
                
                return ''; // Return empty if can't parse
            } catch (err) {
                console.error('Error formatting date for input:', err);
                return '';
            }
        }

        // --- Classroom Card Click Handler ---
        function handleClassroomCardClick(classroomId) {
            console.log('üéØ Classroom card clicked:', classroomId);
            // Redirect to class-details.html with the classroom ID
            window.location.href = `class-details.html?id=${classroomId}`;
        }

        // --- Rendering Functions ---
        // --- Rendering Functions ---
async function renderTeacherProfile() {
    if (!currentTeacherData) {
        document.getElementById('profile-name').textContent = 'Teacher Not Found';
        return;
    }

    // Update profile information - FIXED: Use firstName and lastName
    const teacherName = currentTeacherData.fullName || 
                       (currentTeacherData.firstName && currentTeacherData.lastName ? 
                        `${currentTeacherData.firstName} ${currentTeacherData.lastName}` : 
                        currentTeacherData.name || 'Unknown Teacher');
    
    document.getElementById('profile-name').textContent = teacherName;
    document.getElementById('profile-email').textContent = currentTeacherData.email || 'No email';
    document.getElementById('teacher-id').textContent = currentTeacherData.id || 'N/A';
    document.getElementById('teacher-email').textContent = currentTeacherData.email || 'No email';
    document.getElementById('teacher-joined').textContent = formatDate(currentTeacherData.createdAt);
    document.getElementById('teacher-birthday').textContent = formatDate(currentTeacherData.birthday || currentTeacherData.dob);
    
    // Determine status based on classes
    const teacherClassrooms = await fetchTeacherClassrooms(currentTeacherId);
    const status = teacherClassrooms.length > 0 ? 'Active' : 'Available';
    
    // Update status
    const statusElement = document.getElementById('profile-status');
    statusElement.textContent = status;
    statusElement.className = 'profile-status';
    if (status === 'Active') {
        statusElement.classList.add('status-active');
    } else if (status === 'Available') {
        statusElement.classList.add('status-inactive');
    } else {
        statusElement.classList.add('status-archived');
    }
    
    // Update sidebar stats
    document.getElementById('classes-count').textContent = teacherClassrooms.length;
    document.getElementById('status-display').textContent = status;
    
    // Calculate years at school (simplified)
    const joinDate = currentTeacherData.createdAt ? currentTeacherData.createdAt.toDate() : new Date();
    const yearsAtSchool = new Date().getFullYear() - joinDate.getFullYear();
    document.getElementById('years-count').textContent = yearsAtSchool > 0 ? yearsAtSchool : '1';
    
    // Render classes
    await renderClasses(teacherClassrooms);
}
        async function renderClasses(teacherClassrooms) {
            classesContainer.innerHTML = '';
            
            if (teacherClassrooms.length === 0) {
                classesContainer.innerHTML = `
                    <div class="no-classes">
                        <i class="fas fa-chalkboard-teacher"></i>
                        <h3>No Classes Assigned</h3>
                        <p>This teacher is not currently assigned to any classes.</p>
                    </div>
                `;
            } else {
                const classesGrid = document.createElement('div');
                classesGrid.className = 'classes-grid';
                
                teacherClassrooms.forEach(classroom => {
                    const classCard = document.createElement('div');
                    classCard.className = 'class-card clickable-class-card';
                    classCard.setAttribute('data-classroom-id', classroom.id);
                    classCard.innerHTML = `
                        <div class="class-name">${classroom.name}</div>
                        <div class="class-info"><i class="fas fa-clock"></i> ${classroom.schedule}</div>
                        <div class="class-info"><i class="fas fa-users"></i> ${classroom.students} students</div>
                        ${classroom.gradeLevel ? `<div class="class-info"><i class="fas fa-graduation-cap"></i> ${classroom.gradeLevel}</div>` : ''}
                        ${classroom.section ? `<div class="class-info"><i class="fas fa-tag"></i> ${classroom.section}</div>` : ''}
                        <div class="click-indicator">
                            <i class="fas fa-external-link-alt"></i> Click to view details
                        </div>
                    `;
                    
                    // Add click event listener to the card
                    classCard.addEventListener('click', () => handleClassroomCardClick(classroom.id));
                    
                    classesGrid.appendChild(classCard);
                });
                
                classesContainer.appendChild(classesGrid);
            }
        }

        async function populateClassesMultiselect(container, assignedClasses = []) {
            container.innerHTML = '<div class="loading-text">Loading classes...</div>';
            
            try {
                await fetchClassrooms();
                container.innerHTML = '';
                
                if (allClassrooms.length === 0) {
                    container.innerHTML = '<div class="no-classes-text">No classrooms available</div>';
                    return;
                }

                allClassrooms.forEach(classroom => {
                    const isChecked = assignedClasses.includes(classroom.classroomName);
                    const option = document.createElement('div');
                    option.classList.add('select-option');
                    option.innerHTML = `
                        <input type="checkbox" id="edit-class-${classroom.id}" name="classes" value="${classroom.classroomName}" ${isChecked ? 'checked' : ''}>
                        <label for="edit-class-${classroom.id}">${classroom.classroomName}</label>
                    `;
                    container.appendChild(option);
                });
            } catch (err) {
                console.error('‚ùå Error populating classes multiselect:', err);
                container.innerHTML = '<div class="error-text">Error loading classes</div>';
            }
        }

        // --- Modal Functions ---
        // --- Modal Functions ---
async function openEditTeacherModal() {
    if (!currentTeacherData) return;

    // Populate form with current teacher data - FIXED: Use firstName and lastName
    document.getElementById('edit-teacher-id').value = currentTeacherData.id;
    
    // Set first name and last name separately
    document.getElementById('edit-teacher-firstname').value = currentTeacherData.firstName || '';
    document.getElementById('edit-teacher-lastname').value = currentTeacherData.lastName || '';
    
    document.getElementById('edit-teacher-email').value = currentTeacherData.email || '';
    document.getElementById('edit-teacher-birthday').value = formatDateForInput(currentTeacherData.birthday || currentTeacherData.dob);
    
    // Determine status based on classes
    const teacherClassrooms = await fetchTeacherClassrooms(currentTeacherId);
    const status = teacherClassrooms.length > 0 ? 'Active' : 'Available';
    document.getElementById('edit-teacher-status').value = status;
    
    // Get current assigned classes
    const assignedClasses = teacherClassrooms.map(classroom => classroom.name);
    await populateClassesMultiselect(editClassesTaughtMultiselect, assignedClasses);
    
    openModal(editTeacherModal);
}

async function handleEditTeacherFormSubmission(e) {
    e.preventDefault();
    
    const firstName = document.getElementById('edit-teacher-firstname').value.trim();
    const lastName = document.getElementById('edit-teacher-lastname').value.trim();
    const email = document.getElementById('edit-teacher-email').value.trim();
    const birthday = document.getElementById('edit-teacher-birthday').value;
    const status = document.getElementById('edit-teacher-status').value;
    
    // Get selected classes from checkboxes
    const selectedClassCheckboxes = editClassesTaughtMultiselect.querySelectorAll('input[type="checkbox"]:checked');
    const selectedClasses = Array.from(selectedClassCheckboxes).map(cb => cb.value);
    
    // Basic validation
    if (!firstName || !lastName || !email) {
        alert("Please fill out all required fields.");
        return;
    }

    try {
         showLoading(); // Add this line
        // Combine first name and last name for fullName
        const fullName = `${firstName} ${lastName}`;
        
        // Update teacher data in Firestore
        const teacherData = {
            fullName: fullName,
            firstName: firstName,
            lastName: lastName,
            email: email,
            birthday: birthday || '',
            classesTaught: selectedClasses,
            updatedAt: serverTimestamp()
        };

        await updateDoc(doc(db, "users", currentTeacherId), teacherData);
        
        // Update classroom assignments
        await updateClassroomAssignments(selectedClasses);
        
        alert(`SUCCESS: Teacher profile updated!`);
        closeEditTeacherModal();
        
        // Reload teacher data
        currentTeacherData = await fetchTeacherData(currentTeacherId);
        await renderTeacherProfile();
           hideLoading(); // Add this line in error case too
        
    } catch (err) {
        console.error('‚ùå Error updating teacher:', err);
        alert('Failed to update teacher profile. Please try again.');
           hideLoading(); // Add this line in error case too
    }
}

        async function updateClassroomAssignments(selectedClasses) {
            try {
                const classroomUpdates = [];
                
                // First, remove this teacher from all currently assigned classrooms
                const currentClassrooms = await fetchTeacherClassrooms(currentTeacherId);
                for (const classroom of currentClassrooms) {
                    if (!selectedClasses.includes(classroom.name)) {
                        // Remove teacher from this classroom
                        classroomUpdates.push(
                            updateDoc(doc(db, "classrooms", classroom.id), {
                                teacherId: "",
                                status: "pending"
                            })
                        );
                    }
                }
                
                // Then, assign teacher to newly selected classrooms
                for (const className of selectedClasses) {
                    const classroom = allClassrooms.find(c => c.classroomName === className);
                    if (classroom && classroom.teacherId !== currentTeacherId) {
                        classroomUpdates.push(
                            updateDoc(doc(db, "classrooms", classroom.id), {
                                teacherId: currentTeacherId,
                                status: "active"
                            })
                        );
                    }
                }
                
                if (classroomUpdates.length > 0) {
                    await Promise.all(classroomUpdates);
                }
                
            } catch (err) {
                console.error('‚ùå Error updating classroom assignments:', err);
                throw err;
            }
        }

        async function archiveTeacher() {
            if (confirm(`Are you sure you want to archive ${currentTeacherData.fullName}?`)) {
                try {
                      showLoading(); // Add this line
                    await updateDoc(doc(db, "users", currentTeacherId), {
                        status: 'Archived',
                        updatedAt: serverTimestamp()
                    });
                    
                    // Also remove from all classrooms
                    const currentClassrooms = await fetchTeacherClassrooms(currentTeacherId);
                    const classroomUpdates = currentClassrooms.map(classroom => 
                        updateDoc(doc(db, "classrooms", classroom.id), {
                            teacherId: "",
                            status: "pending"
                        })
                    );
                    
                    if (classroomUpdates.length > 0) {
                        await Promise.all(classroomUpdates);
                    }
                    
                    alert(`Teacher "${currentTeacherData.fullName}" has been archived.`);
                    currentTeacherData = await fetchTeacherData(currentTeacherId);
                    await renderTeacherProfile();
                        hideLoading(); // Add this line
                    
                } catch (err) {
                    console.error('‚ùå Error archiving teacher:', err);
                    alert('Failed to archive teacher. Please try again.');
                        hideLoading(); // Add this line
                }
            }
        }



        // --- Initialization Function ---
        async function init() {
              showLoading(); 
            // Get teacher ID from URL
            currentTeacherId = getTeacherIdFromURL();
            
            if (!currentTeacherId) {
                document.getElementById('profile-name').textContent = 'No Teacher Selected';
                document.getElementById('profile-email').textContent = 'Please select a teacher from Teacher Management';
                return;
            }

            try {
                // Load teacher data
                currentTeacherData = await fetchTeacherData(currentTeacherId);
                await renderTeacherProfile();
                 hideLoading(); 
                
            } catch (err) {
                console.error('‚ùå Error initializing teacher profile:', err);
                document.getElementById('profile-name').textContent = 'Error Loading Teacher';
                document.getElementById('profile-email').textContent = 'Could not load teacher data. Please try again.';
                 hideLoading(); 
            }

            // Form submission handlers
            editTeacherForm.addEventListener('submit', handleEditTeacherFormSubmission);
            
            // Button listeners
            document.getElementById('edit-profile-btn').addEventListener('click', openEditTeacherModal);
            document.getElementById('archive-teacher-btn').addEventListener('click', archiveTeacher);
       

            // Modal close buttons
            document.getElementById('close-edit-modal').addEventListener('click', closeEditTeacherModal);
            document.getElementById('cancel-edit').addEventListener('click', closeEditTeacherModal);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', init);
    </script>

    <style>
        /* Add styles for clickable classroom cards */
        .clickable-class-card {
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            border: 2px solid transparent;
        }

        .clickable-class-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border-color: #3b82f6;
        }

        .click-indicator {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .clickable-class-card:hover .click-indicator {
            background: rgba(59, 130, 246, 0.2);
        }

        .no-classes {
            text-align: center;
            padding: 2rem;
            color: #6b7280;
        }

        .no-classes i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #d1d5db;
        }
    </style>
</body>
</html>